{"version":3,"sources":["webpack:///./C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.js","webpack:///./lib/mpvue-page-factory/index.js","webpack:///C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.vue","webpack:///.vue?b732","webpack:///./lib/uni.mp-weixin.js","webpack:///C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.vue?7b21","webpack:///./C:/Users/Admin/Documents/HBuilderProjects/signature/static/js/signature.js"],"names":["__webpack_require__","Page","_mpvuePageFactory2","default","App","_ref","_defineProperty","data","$root","onLoad","query","app","Vue","this","$vm","rootVueVM","__wxWebviewId__","$mp","mp","mpType","page","status","$mount","handleProxy","e","getRootVueVm","$handleProxyWithVue","onShow","callHook$1","$nextTick","_initDataToMP","onReady","onHide","onUnload","$destroy","onPullDownRefresh","onReachBottom","onPageScroll","options","onTabItemTap","onShareAppMessage","plus","webview","getWebviewById","_vue","vm","hook","params","ret","handlers","$options","i","j","length","call","_hasHookEvent","$emit","$children","forEach","v","__WEBPACK_IMPORTED_MODULE_1__Program_Files_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_template_compiler_index_id_data_v_7eb4792f_hasScoped_true_preserveWhitespace_false_Program_Files_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_html_context_H5_false_APP_PLUS_false_MP_WEIXIN_true_MP_BAIDU_false_MP_ALIPAY_false_MP_TOUTIAO_false_MP_true_APP_false_APP_PLUS_NVUE_false_APP_PLUS_NVUE_false_APP_PLUS_false_MP_WEIXIN_true_MP_BAIDU_false_MP_ALIPAY_false_MP_TOUTIAO_false_Program_Files_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_template_index_0_index_vue__","disposed","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__Program_Files_HBuilderX_plugins_uniapp_node_modules_babel_loader_babelrc_false_retainLines_true_presets_C_Program_Files_HBuilderX_plugins_uniapp_node_modules_babel_preset_env_modules_commonjs_targets_browsers_1_last_2_versions_not_ie_8_C_Program_Files_HBuilderX_plugins_uniapp_node_modules_babel_preset_stage_2_plugins_C_Program_Files_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_runtime_helpers_false_polyfill_false_regenerator_true_moduleName_C_Program_Files_HBuilderX_plugins_uniapp_node_modules_babel_runtime_C_Program_Files_HBuilderX_plugins_uniapp_node_modules_babel_plugin_transform_decorators_legacy_Program_Files_HBuilderX_plugins_uniapp_lib_preprocessor_loader_js_type_js_context_H5_false_APP_PLUS_false_MP_WEIXIN_true_MP_BAIDU_false_MP_ALIPAY_false_MP_TOUTIAO_false_MP_true_APP_false_APP_PLUS_NVUE_false_APP_PLUS_NVUE_false_APP_PLUS_false_MP_WEIXIN_true_MP_BAIDU_false_MP_ALIPAY_false_MP_TOUTIAO_false_Program_Files_HBuilderX_plugins_uniapp_lib_mpvue_loader_lib_selector_type_script_index_0_index_vue___default","a","__file","esModule","Object","keys","some","key","substr","console","error","functional","__webpack_exports__","lineColor","slideValue","handwriting","selectColor","color","showimg","share_popup","_signature2","canvasName","methods","selectColorEvent","event","retDraw","updateValue","log","detail","value","selectSlideValue","uploadScaleStart","uploadScaleMove","uploadScaleEnd","subCanvas","_this","saveCanvas","then","res","catch","err","isFn","REGEX","API_NORMAL_LIST","shouldPromise","name","test","indexOf","promisify","api","_len","arguments","Array","_key","undefined","success","fail","complete","apply","concat","Promise","resolve","reject","assign","prototype","finally","callback","promise","constructor","reason","EPS","BASE_DEVICE_WIDTH","isIOS","deviceWidth","deviceDPR","transformUpx","number","newDeviceWidth","_wx$getSystemInfoSync","platform","pixelRatio","windowWidth","wx","getSystemInfoSync","Math","floor","providers","oauth","share","payment","push","freeze","getProvider","service","errMsg","provider","subscribePush","unsubscribePush","_ref2","onPush","_ref3","offPush","_ref4","uni","baseUni","os","Proxy","get","target","hasOwnProperty","upx2px","uni$1","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","show-value","step","eventid","on","change","class","src","click","$event","disable-scroll","canvas-id","touchstart","touchmove","touchend","tap","mouseDown","mode","_withStripped","esExports","staticRenderFns","Handwriting","opts","_classCallCheck","ctx","canvasWidth","canvasHeight","linePrack","currentLine","transparent","pressure","smoothness","lineSize","lineMin","lineMax","currentPoint","firstTouch","radius","cutArea","top","right","bottom","left","lastPoint","chirography","startY","deltaY","startValue","init","createCanvasContext","createSelectorQuery","select","boundingClientRect","rect","width","height","exec","touches","type","setFillStyle","setGlobalAlpha","x","y","unshift","time","Date","getTime","dis","pointToLine","cancelable","defaultPrevented","preventDefault","point","distance","changedTouches","currentChirography","clearRect","draw","line","calcBethelLine","r","len","lastRadius","x0","x1","x2","y0","y1","y2","n","min","t","ctaCalc","bethelDraw","b","sqrt","r0","r1","r2","n_x0","n_y0","n_x2","n_y2","vx01","vy01","norm","vx21","vy21","mx","my","c1x","c1y","c2x","c2y","ex","ey","toFixed","parseFloat","is_fill","beginPath","moveTo","setStrokeStyle","bezierCurveTo","stroke","fill","_this2","rej","canvasToTempFilePath","canvasId","tempFilePath"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["\nimport pageFactory from 'mpvue-page-factory'\nimport App from 'C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.vue'\nPage(pageFactory(App))\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.js","import Vue from 'vue';\r\n\r\nfunction callHook$1(vm, hook, params) {\r\n  var handlers = vm.$options[hook];\r\n  if (hook === 'onError' && handlers) {\r\n    handlers = [handlers];\r\n  }\r\n\r\n  var ret;\r\n  if (handlers) {\r\n    for (var i = 0, j = handlers.length; i < j; i++) {\r\n      // try {\r\n        ret = handlers[i].call(vm, params);\r\n//       } catch (e) {\r\n//         handleError(e, vm, (hook + \" hook\"));\r\n//       }\r\n    }\r\n  }\r\n  if (vm._hasHookEvent) {\r\n    vm.$emit('hook:' + hook);\r\n  }\r\n\r\n  // for child\r\n  if (vm.$children.length) {\r\n    vm.$children.forEach(function (v) {\r\n      return callHook$1(v, hook, params);\r\n    });\r\n  }\r\n\r\n  return ret\r\n}\r\n\r\nfunction getRootVueVm(page) {\r\n  return page.$vm.$root;\r\n}\r\n\r\nexport default function (App) {\r\n  return {\r\n    // 页面的初始数据\r\n    data: {\r\n      $root: {}\r\n    },\r\n\r\n    // mp lifecycle for vue\r\n    // 生命周期函数--监听页面加载\r\n    onLoad(query) {\r\n      //页面加载的时候\r\n      const app = new Vue(App);\r\n      // 挂载Vue对象到page上\r\n      this.$vm = app;\r\n      var rootVueVM = app.$root;\r\n      rootVueVM.__wxWebviewId__ = this.__wxWebviewId__//fixed by xxxxxx(createIntersectionObserver)\r\n      \r\n      //初始化mp对象\r\n      if (!rootVueVM.$mp) {\r\n        rootVueVM.$mp = {};\r\n      }\r\n      var mp = rootVueVM.$mp;\r\n      mp.mpType = 'page';\r\n      mp.page = this;\r\n      mp.query = query;\r\n      mp.status = 'load';\r\n      //mount 要在 mp.status = 'load';赋值之后，不然mount方法会重复添加微信Page\r\n      //具体原因参考mpvue核心库源码，_initMP方法\r\n      app.$mount();\r\n    },\r\n\r\n    handleProxy: function handleProxy(e) {\r\n      var rootVueVM = getRootVueVm(this);\r\n      return rootVueVM.$handleProxyWithVue(e)\r\n    },\r\n\r\n    // 生命周期函数--监听页面显示\r\n    onShow() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      var mp = rootVueVM.$mp;\r\n      mp.status = 'show';\r\n      callHook$1(rootVueVM, 'onShow');\r\n      //   // 只有页面需要 setData\r\n      rootVueVM.$nextTick(function () {\r\n        rootVueVM._initDataToMP();\r\n      });\r\n    },\r\n\r\n    // 生命周期函数--监听页面初次渲染完成\r\n    onReady() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      var mp = rootVueVM.$mp;\r\n      mp.status = 'ready';\r\n      callHook$1(rootVueVM, 'onReady');\r\n    },\r\n\r\n    // 生命周期函数--监听页面隐藏\r\n    onHide: function onHide() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      var mp = rootVueVM.$mp;\r\n      mp.status = 'hide';\r\n      callHook$1(rootVueVM, 'onHide');\r\n    },\r\n\r\n    // 生命周期函数--监听页面卸载\r\n    onUnload: function onUnload() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onUnload');\r\n      rootVueVM.$destroy();\r\n    },\r\n\r\n    // 页面相关事件处理函数--监听用户下拉动作\r\n    onPullDownRefresh: function onPullDownRefresh() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onPullDownRefresh');\r\n    },\r\n\r\n    // 页面上拉触底事件的处理函数\r\n    onReachBottom: function onReachBottom() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onReachBottom');\r\n    },\r\n\r\n    // Do something when page scroll\r\n    onPageScroll: function onPageScroll(options) {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onPageScroll', options);\r\n    },\r\n\r\n    // 当前是 tab 页时，点击 tab 时触发\r\n    onTabItemTap: function onTabItemTap(options) {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onTabItemTap', options);\r\n    }, // 页面相关事件处理函数--监听用户下拉动作\r\n    onPullDownRefresh: function onPullDownRefresh() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onPullDownRefresh');\r\n    },\r\n\r\n    // 页面上拉触底事件的处理函数\r\n    onReachBottom: function onReachBottom() {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onReachBottom');\r\n    },\r\n\r\n    // // 用户点击右上角分享\r\n    onShareAppMessage: App.onShareAppMessage ?\r\n      function (options) {\r\n        var rootVueVM = getRootVueVm(this);\r\n        return callHook$1(rootVueVM, 'onShareAppMessage', options);\r\n      } : null,\r\n\r\n    // Do something when page scroll\r\n    onPageScroll: function onPageScroll(options) {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onPageScroll', options);\r\n    },\r\n\r\n    // 当前是 tab 页时，点击 tab 时触发\r\n    onTabItemTap: function onTabItemTap(options) {\r\n      var rootVueVM = getRootVueVm(this);\r\n      callHook$1(rootVueVM, 'onTabItemTap', options);\r\n    },\r\n    \r\n    //fixed by xxxxxx\r\n    onNavigationBarButtonTap: function onNavigationBarButtonTap(options) {\r\n        var rootVueVM = getRootVueVm(this);\r\n    \t\tcallHook$1(rootVueVM, \"onNavigationBarButtonTap\", options)\r\n    },\r\n    onBackPress: function onBackPress() {\r\n        var rootVueVM = getRootVueVm(this);\r\n    \t\treturn callHook$1(rootVueVM, \"onBackPress\")\r\n    },\r\n\t\t$getAppWebview:function (e) {\r\n\t\t\t\treturn plus.webview.getWebviewById('' + this.__wxWebviewId__)\r\n\t\t}\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/mpvue-page-factory/index.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../../../../../Program Files/HBuilderX/plugins/uniapp/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/node_modules/vue-style-loader!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/css-var-loader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp/node_modules/css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7eb4792f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/css-upx-loader.js?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":1}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"H5\\\":false,\\\"APP-PLUS\\\":false,\\\"MP-WEIXIN\\\":true,\\\"MP-BAIDU\\\":false,\\\"MP-ALIPAY\\\":false,\\\"MP-TOUTIAO\\\":false,\\\"MP\\\":true,\\\"APP\\\":false,\\\"APP-PLUS-NVUE\\\":false,\\\"APP_PLUS_NVUE\\\":false,\\\"APP_PLUS\\\":false,\\\"MP_WEIXIN\\\":true,\\\"MP_BAIDU\\\":false,\\\"MP_ALIPAY\\\":false,\\\"MP_TOUTIAO\\\":false}}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/node_modules/postcss-loader?{\\\"config\\\":{\\\"path\\\":\\\"C:\\\\\\\\Program Files\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\.postcssrc.js\\\"},\\\"sourceMap\\\":true}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"H5\\\":false,\\\"APP-PLUS\\\":false,\\\"MP-WEIXIN\\\":true,\\\"MP-BAIDU\\\":false,\\\"MP-ALIPAY\\\":false,\\\"MP-TOUTIAO\\\":false,\\\"MP\\\":true,\\\"APP\\\":false,\\\"APP-PLUS-NVUE\\\":false,\\\"APP_PLUS_NVUE\\\":false,\\\"APP_PLUS\\\":false,\\\"MP_WEIXIN\\\":true,\\\"MP_BAIDU\\\":false,\\\"MP_ALIPAY\\\":false,\\\"MP_TOUTIAO\\\":false}}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!../../../../../../../Program Files/HBuilderX/plugins/uniapp/node_modules/babel-loader?{\\\"babelrc\\\":false,\\\"retainLines\\\":true,\\\"presets\\\":[[\\\"C:\\\\\\\\Program Files\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-env\\\",{\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"not ie <= 8\\\"]}}],\\\"C:\\\\\\\\Program Files\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-preset-stage-2\\\"],\\\"plugins\\\":[[\\\"C:\\\\\\\\Program Files\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-runtime\\\",{\\\"helpers\\\":false,\\\"polyfill\\\":false,\\\"regenerator\\\":true,\\\"moduleName\\\":\\\"C:\\\\\\\\Program Files\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-runtime\\\"}],\\\"C:\\\\\\\\Program Files\\\\\\\\HBuilderX\\\\\\\\plugins\\\\\\\\uniapp\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-decorators-legacy\\\"]}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"js\\\",\\\"context\\\":{\\\"H5\\\":false,\\\"APP-PLUS\\\":false,\\\"MP-WEIXIN\\\":true,\\\"MP-BAIDU\\\":false,\\\"MP-ALIPAY\\\":false,\\\"MP-TOUTIAO\\\":false,\\\"MP\\\":true,\\\"APP\\\":false,\\\"APP-PLUS-NVUE\\\":false,\\\"APP_PLUS_NVUE\\\":false,\\\"APP_PLUS\\\":false,\\\"MP_WEIXIN\\\":true,\\\"MP_BAIDU\\\":false,\\\"MP_ALIPAY\\\":false,\\\"MP_TOUTIAO\\\":false}}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7eb4792f\\\",\\\"hasScoped\\\":true,\\\"preserveWhitespace\\\":false}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/preprocessor-loader.js?{\\\"type\\\":\\\"html\\\",\\\"context\\\":{\\\"H5\\\":false,\\\"APP-PLUS\\\":false,\\\"MP-WEIXIN\\\":true,\\\"MP-BAIDU\\\":false,\\\"MP-ALIPAY\\\":false,\\\"MP-TOUTIAO\\\":false,\\\"MP\\\":true,\\\"APP\\\":false,\\\"APP-PLUS-NVUE\\\":false,\\\"APP_PLUS_NVUE\\\":false,\\\"APP_PLUS\\\":false,\\\"MP_WEIXIN\\\":true,\\\"MP_BAIDU\\\":false,\\\"MP_ALIPAY\\\":false,\\\"MP_TOUTIAO\\\":false}}!../../../../../../../Program Files/HBuilderX/plugins/uniapp/lib/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7eb4792f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"..\\\\..\\\\..\\\\..\\\\Users\\\\Admin\\\\Documents\\\\HBuilderProjects\\\\signature\\\\pages\\\\index\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7eb4792f\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7eb4792f\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.vue\n// module id = 10\n// module chunks = 0","<template>\r\n\t<view class=\"wrapper\">\r\n\t\t<view class=\"handRight\">\r\n\t\t\t<view class=\"handTitle\">手写板</view>\r\n\t\t</view>\t\r\n\t  <view class=\"handBtn\">\r\n\t\t<view class=\"slide-wrapper\">\r\n\t\t\t<text>选择粗细</text>\r\n\t\t\t<slider @change=\"updateValue\" value=\"50\" show-value class=\"slider\" step=\"25\" />\r\n\t\t</view>\r\n\t\t<view class=\"color\">\r\n\t\t\t<text>选择颜色</text>\r\n\t\t\t<image @click=\"selectColorEvent('black')\" :src=\"selectColor === 'black' ? '../../static/img/color_black_selected.png' : '../../static/img/color_black.png'\" :class=\"selectColor === 'black' ? 'color_select' : ''\" class=\"black-select\"></image>\r\n\t\t\t<image @click=\"selectColorEvent('red')\" :src=\"selectColor === 'red' ? '../../static/img/color_red_selected.png' : '../../static/img/color_red.png' \" :class=\"selectColor === 'red' ? 'color_select' : ''\"  class=\"red-select\" ></image>\r\n\t\t</view>\r\n\t  </view>\r\n\t  <view class=\"handCenter\">\r\n\t\t<canvas class=\"handWriting\" disable-scroll=\"true\" @touchstart=\"uploadScaleStart\" @touchmove=\"uploadScaleMove\"\r\n\t\t  @touchend=\"uploadScaleEnd\" @tap=\"mouseDown\" canvas-id=\"handWriting\">\r\n\t\t</canvas>\r\n\t  </view>\r\n\t\t<view class=\"showimg\">\r\n\t\t\t<image v-if=\"showimg\" :src=\"showimg\" mode=\"\"></image>\r\n\t\t\t<text v-else >图片展示</text>\r\n\t\t</view>\r\n\t\t<view class=\"buttons\">\r\n\t\t\t<button @click=\"retDraw\" class=\"delBtn\">重写</button>\r\n\t\t\t<button @click=\"subCanvas\" class=\"subBtn\">保存</button>\t\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport Handwriting from \"../../static/js/signature.js\"\r\nexport default {\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tlineColor:'black',\r\n\t\t\tslideValue:50,\r\n\t\t\thandwriting:'',\r\n\t\t\tselectColor:'black',\r\n\t\t\tcolor:'',\r\n\t\t\tshowimg:'',\r\n\t\t\tshare_popup:false,\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.handwriting = new Handwriting({\r\n\t\t  lineColor: this.lineColor,\r\n\t\t  slideValue: this.slideValue, // 0, 25, 50, 75, 100\r\n\t\t  canvasName: 'handWriting',\r\n\t\t})\r\n\t},\r\n\tmethods:{\r\n\t // 选择画笔颜色\r\n\t  selectColorEvent(event) {\r\n\t\t  this.selectColor = event;\r\n\t\tif(event=='black'){\r\n\t\t\tthis.color= '#1A1A1A'\r\n\t\t}else if(event=='red'){\r\n\t\t\tthis.color= '#ca262a'\r\n\t\t} \r\n\t\tthis.handwriting.selectColorEvent(this.color)\r\n\t  },\r\n\t  retDraw() {\r\n\t\tthis.handwriting.retDraw()\r\n\t  },\r\n\t  // 笔迹粗细滑块\r\n\t  updateValue(e) {\r\n\t\t  console.log(e.detail);\r\n\t\t  this.slideValue = e.detail.value;\r\n\t\tthis.handwriting.selectSlideValue(this.slideValue);\r\n\t  },\r\n\t  uploadScaleStart(event){\r\n\t\t  this.handwriting.uploadScaleStart(event)\r\n\t  },\r\n\t  uploadScaleMove(event){\r\n\t\t  this.handwriting.uploadScaleMove(event)\r\n\t  },\r\n\t  uploadScaleEnd(event){\r\n\t\t  this.handwriting.uploadScaleEnd(event)\r\n\t  },\r\n\t  subCanvas(){\r\n\t\t  this.handwriting.saveCanvas().then(res=>{\r\n\t\t\t  this.showimg = res;\r\n\t\t\t  console.log(res);\r\n\t\t  }).catch(err=>{\r\n\t\t\t  console.log(err);\r\n\t\t  });\t\t  \r\n\t\t  \r\n\t  },\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped=\"true\">\r\n.wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 30upx 0;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-content: center;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  font-size: 28upx;\r\n}\r\n\r\n.handWriting {\r\n  background: #fff;\r\n  width: 100%;\r\n  height: 350upx;\r\n}\r\n\r\n.handRight {\r\n  align-items: center;\r\n}\r\n\r\n.handCenter {\r\n  border: 4upx dashed #e9e9e9;\r\n  flex: 5;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n}\r\n.handTitle {\r\n  flex: 1;\r\n  color: #666;\r\n  justify-content: center;\r\n  font-size: 30upx;\r\n}\r\n.handBtn {\r\n  flex-direction: column;\r\n  padding: 40upx 20upx;\r\n}\r\n.buttons{\r\n\twidth: 100%;\r\n\tmargin-top: 20upx;\r\n\tjustify-content: space-between;\r\n}\r\n.buttons>button{\r\n\tfont-size: 30upx;\r\n\theight: 80upx;\r\n\twidth: 120upx;\r\n}\r\n.delBtn {\r\n  color: #666;\r\n}\r\n.color{\r\n\talign-items: center;\r\n}\r\n.color>text{\r\n\tmargin-right: 20upx;\r\n}\r\n.subBtn {\r\n  background: #008ef6;\r\n  color: #fff;\r\n  text-align: center;\r\n  justify-content: center;\r\n}\r\n\r\n.black-select {\r\n  width: 60upx;\r\n  height: 60upx;\r\n}\r\n.black-select.color_select {\r\n  width: 90upx;\r\n  height: 90upx;\r\n}\r\n.red-select {\r\n  width: 60upx;\r\n  height: 60upx;\r\n}\r\n.red-select.color_select {\r\n  width: 90upx;\r\n  height: 90upx;\r\n}\r\n.slide-wrapper {\r\n  align-items: center;\r\n  margin-bottom: 20upx;\r\n}\r\n.slider{\r\n\twidth: 400upx;\r\n\tpadding-left: 20upx;\r\n}\r\n.drop {\r\n  width: 50upx;\r\n  height: 50upx;\r\n  border-radius: 50%;\r\n  background: #FFF;\r\n  position: absolute;\r\n  left: 0upx;\r\n  top: -10upx;\r\n  box-shadow: 0px 1px 5px #888888;\r\n}\r\n\r\n.slide {\r\n  width: 250upx;\r\n  height: 30upx;\r\n}\r\n.showimg{\r\n\tborder: 4upx solid #e9e9e9;\r\n\toverflow: hidden;\r\n\twidth: 90%;\r\n\tmargin: 0 auto;\r\n\tbackground: #eee;\r\n\theight: 350upx;\r\n\tmargin-top: 40upx;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.showimg>image{\r\n\twidth: 100%;\r\n\theight: 100%;\t\r\n}\r\n.showimg>text{\r\n\tfont-size: 40upx;\r\n\tcolor: #888;\r\n}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// .vue?21c29a75","var isFn = function isFn(v) {\n  return typeof v === 'function';\n};\n\nvar handlePromise = function handlePromise(promise) {\n  return promise.then(function (data) {\n    return [null, data];\n  }).catch(function (err) {\n    return [err];\n  });\n};\n\nvar REGEX = /^on|^create|Sync$|Manager$|^pause/;\nvar API_NORMAL_LIST = ['os', 'stopRecord', 'stopVoice', 'stopBackgroundAudio', 'stopPullDownRefresh', 'hideKeyboard', 'hideToast', 'hideLoading', 'showNavigationBarLoading', 'hideNavigationBarLoading', 'canIUse', 'navigateBack', 'closeSocket', 'pageScrollTo', 'drawCanvas'];\n\nvar shouldPromise = function shouldPromise(name) {\n  if (REGEX.test(name) && name !== 'createBLEConnection') {\n    return false;\n  }\n  if (~API_NORMAL_LIST.indexOf(name)) {\n    return false;\n  }\n  return true;\n};\n\nvar promisify = function promisify(api) {\n  return function () {\n    for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (isFn(options.success) || isFn(options.fail) || isFn(options.complete)) {\n      return api.apply(undefined, [options].concat(params));\n    }\n    return handlePromise(new Promise(function (resolve, reject) {\n      api.apply(undefined, [Object.assign({}, options, {\n        success: resolve,\n        fail: reject\n      })].concat(params));\n      /* eslint-disable no-extend-native */\n      Promise.prototype.finally = function (callback) {\n        var promise = this.constructor;\n        return this.then(function (value) {\n          return promise.resolve(callback()).then(function () {\n            return value;\n          });\n        }, function (reason) {\n          return promise.resolve(callback()).then(function () {\n            throw reason;\n          });\n        });\n      };\n    }));\n  };\n};\n\nvar EPS = 1e-4;\nvar BASE_DEVICE_WIDTH = 750;\nvar isIOS = false;\nvar deviceWidth = 0;\nvar deviceDPR = 0;\n\nfunction checkDeviceWidth() {\n  var _wx$getSystemInfoSync = wx.getSystemInfoSync(),\n      platform = _wx$getSystemInfoSync.platform,\n      pixelRatio = _wx$getSystemInfoSync.pixelRatio,\n      windowWidth = _wx$getSystemInfoSync.windowWidth;\n\n  deviceWidth = windowWidth;\n  deviceDPR = pixelRatio;\n  isIOS = platform === 'ios';\n}\n\nfunction transformUpx(number, newDeviceWidth) {\n  if (deviceWidth === 0) {\n    checkDeviceWidth();\n  }\n\n  if (number === 0) {\n    return 0;\n  }\n\n  number = number / BASE_DEVICE_WIDTH * (newDeviceWidth || deviceWidth);\n  number = Math.floor(number + EPS);\n\n  if (number === 0) {\n    if (deviceDPR === 1 || !isIOS) {\n      return 1;\n    } else {\n      return 0.5;\n    }\n  }\n  return number;\n}\n\nfunction subscribePush(_ref) {\n  var fail = _ref.fail,\n      complete = _ref.complete;\n\n  var res = {\n    errMsg: 'subscribePush:fail:微信小程序不支持 subscribePush 方法'\n  };\n  isFn(fail) && fail(res);\n  isFn(complete) && complete(res);\n}\nfunction unsubscribePush(_ref2) {\n  var fail = _ref2.fail,\n      complete = _ref2.complete;\n\n  var res = {\n    errMsg: 'unsubscribePush:fail:微信小程序不支持 unsubscribePush 方法'\n  };\n  isFn(fail) && fail(res);\n  isFn(complete) && complete(res);\n}\nfunction onPush(_ref3) {\n  var fail = _ref3.fail,\n      complete = _ref3.complete;\n\n  var res = {\n    errMsg: 'onPush:fail:微信小程序不支持 onPush 方法'\n  };\n  isFn(fail) && fail(res);\n  isFn(complete) && complete(res);\n}\nfunction offPush(_ref4) {\n  var fail = _ref4.fail,\n      complete = _ref4.complete;\n\n  var res = {\n    errMsg: 'offPush:fail:微信小程序不支持 offPush 方法'\n  };\n  isFn(fail) && fail(res);\n  isFn(complete) && complete(res);\n}\n\nfunction share(_ref) {\n  var fail = _ref.fail,\n      complete = _ref.complete;\n\n  var res = {\n    errMsg: 'share:fail:微信小程序不支持 share 方法'\n  };\n  isFn(fail) && fail(res);\n  isFn(complete) && complete(res);\n}\n\nvar providers = {\n  oauth: ['weixin'],\n  share: ['weixin'],\n  payment: ['wxpay'],\n  push: ['weixin']\n};\n\nfunction getProvider(_ref) {\n  var service = _ref.service,\n      success = _ref.success,\n      fail = _ref.fail,\n      complete = _ref.complete;\n\n  var res = false;\n  if (providers[service]) {\n    res = {\n      errMsg: 'getProvider:ok',\n      service: service,\n      provider: providers[service]\n    };\n    isFn(success) && success(res);\n  } else {\n    res = {\n      errMsg: 'getProvider:fail:服务[' + service + ']不存在'\n    };\n    isFn(fail) && fail(res);\n  }\n  isFn(complete) && complete(res);\n}\n\nvar api = /*#__PURE__*/Object.freeze({\n  getProvider: getProvider,\n  subscribePush: subscribePush,\n  unsubscribePush: unsubscribePush,\n  onPush: onPush,\n  offPush: offPush,\n  share: share\n});\n\nvar uni = {};\n\nvar baseUni = {\n  os: {\n    wx: true\n  }\n};\n\nif (typeof Proxy !== 'undefined') {\n  uni = new Proxy({}, {\n    get: function get(target, name) {\n      if (baseUni.hasOwnProperty(name)) {\n        return baseUni[name];\n      }\n      if (name === 'upx2px') {\n        return transformUpx;\n      }\n      if (api[name]) {\n        if (shouldPromise(name)) {\n          return promisify(api[name]);\n        }\n        return api[name];\n      }\n      if (!wx.hasOwnProperty(name)) {\n        return;\n      }\n      if (shouldPromise(name)) {\n        return promisify(wx[name]);\n      }\n      return wx[name];\n    }\n  });\n} else {\n  uni.upx2px = transformUpx;\n\n  Object.keys(baseUni).forEach(function (key) {\n    uni[key] = baseUni[key];\n  });\n\n  Object.keys(api).forEach(function (key) {\n    if (!shouldPromise(key)) {\n      uni[key] = promisify(api[key]);\n    } else {\n      uni[key] = api[key];\n    }\n  });\n\n  Object.keys(wx).forEach(function (key) {\n    if (wx.hasOwnProperty(key)) {\n      if (shouldPromise(key)) {\n        uni[key] = promisify(wx[key]);\n      } else {\n        uni[key] = wx[key];\n      }\n    }\n  });\n}\n\nvar uni$1 = uni;\n\nexport default uni$1;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/uni.mp-weixin.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('view', {\n    staticClass: \"wrapper\"\n  }, [_vm._m(0), _c('view', {\n    staticClass: \"handBtn\"\n  }, [_c('view', {\n    staticClass: \"slide-wrapper\"\n  }, [_c('text', [_vm._v(\"选择粗细\")]), _c('slider', {\n    staticClass: \"slider\",\n    attrs: {\n      \"value\": \"50\",\n      \"show-value\": \"\",\n      \"step\": \"25\",\n      \"eventid\": '5Px-0'\n    },\n    on: {\n      \"change\": _vm.updateValue\n    }\n  })]), _c('view', {\n    staticClass: \"color\"\n  }, [_c('text', [_vm._v(\"选择颜色\")]), _c('image', {\n    staticClass: \"black-select\",\n    class: _vm.selectColor === 'black' ? 'color_select' : '',\n    attrs: {\n      \"src\": _vm.selectColor === 'black' ? '../../static/img/color_black_selected.png' : '../../static/img/color_black.png',\n      \"eventid\": 'eEj-1'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.selectColorEvent('black')\n      }\n    }\n  }), _c('image', {\n    staticClass: \"red-select\",\n    class: _vm.selectColor === 'red' ? 'color_select' : '',\n    attrs: {\n      \"src\": _vm.selectColor === 'red' ? '../../static/img/color_red_selected.png' : '../../static/img/color_red.png',\n      \"eventid\": 'K4y-2'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.selectColorEvent('red')\n      }\n    }\n  })])]), _c('view', {\n    staticClass: \"handCenter\"\n  }, [_c('canvas', {\n    staticClass: \"handWriting\",\n    attrs: {\n      \"disable-scroll\": \"true\",\n      \"canvas-id\": \"handWriting\",\n      \"eventid\": 'pRx-3'\n    },\n    on: {\n      \"touchstart\": _vm.uploadScaleStart,\n      \"touchmove\": _vm.uploadScaleMove,\n      \"touchend\": _vm.uploadScaleEnd,\n      \"tap\": _vm.mouseDown\n    }\n  })]), _c('view', {\n    staticClass: \"showimg\"\n  }, [(_vm.showimg) ? _c('image', {\n    attrs: {\n      \"src\": _vm.showimg,\n      \"mode\": \"\"\n    }\n  }) : _c('text', [_vm._v(\"图片展示\")])]), _c('view', {\n    staticClass: \"buttons\"\n  }, [_c('button', {\n    staticClass: \"delBtn\",\n    attrs: {\n      \"eventid\": 'YKe-4'\n    },\n    on: {\n      \"click\": _vm.retDraw\n    }\n  }, [_vm._v(\"重写\")]), _c('button', {\n    staticClass: \"subBtn\",\n    attrs: {\n      \"eventid\": 'eov-5'\n    },\n    on: {\n      \"click\": _vm.subCanvas\n    }\n  }, [_vm._v(\"保存\")])], 1)])\n}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('view', {\n    staticClass: \"handRight\"\n  }, [_c('view', {\n    staticClass: \"handTitle\"\n  }, [_vm._v(\"手写板\")])])\n}]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7eb4792f\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-7eb4792f\",\"hasScoped\":true,\"preserveWhitespace\":false}!./lib/preprocessor-loader.js?{\"type\":\"html\",\"context\":{\"H5\":false,\"APP-PLUS\":false,\"MP-WEIXIN\":true,\"MP-BAIDU\":false,\"MP-ALIPAY\":false,\"MP-TOUTIAO\":false,\"MP\":true,\"APP\":false,\"APP-PLUS-NVUE\":false,\"APP_PLUS_NVUE\":false,\"APP_PLUS\":false,\"MP_WEIXIN\":true,\"MP_BAIDU\":false,\"MP_ALIPAY\":false,\"MP_TOUTIAO\":false}}!./lib/mpvue-loader/lib/selector.js?type=template&index=0!C:/Users/Admin/Documents/HBuilderProjects/signature/pages/index/index.vue\n// module id = 15\n// module chunks = 0","class Handwriting {\r\n  // 内置数据\r\n  ctx = '';\r\n  canvasWidth = 300;\r\n  canvasHeight = 900;\r\n  linePrack = []; //划线轨迹 ; 生成线条的实际点\r\n  currentLine = [];\r\n  transparent = 1; // 透明度\r\n  pressure = 0.5; // 默认压力\r\n  smoothness = 100; //顺滑度，用60的距离来计算速度\r\n  lineSize = 1.5; // 笔记倍数\r\n  lineMin = 0.5; // 最小笔画半径\r\n  lineMax = 2; // 最大笔画半径\r\n  currentPoint = {};\r\n  firstTouch = true; // 第一次触发\r\n  radius = 1; //画圆的半径\r\n  cutArea = {\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0\r\n  }; //裁剪区域\r\n  lastPoint = 0;\r\n  chirography = []; //笔迹\r\n  startY = 0;\r\n  deltaY = 0;\r\n  startValue = 0;\r\n  constructor(opts) {\r\n\t\tconsole.log(opts);\r\n    this.lineColor = opts.lineColor || '#1A1A1A' // 颜色\r\n    this.slideValue = opts.slideValue || 50\r\n\t\tthis.canvasName = opts.canvasName || 'handWriting'\r\n    this.init()\r\n  }\r\n  init() {\r\n    this.ctx = uni.createCanvasContext(this.canvasName)\r\n    var query = uni.createSelectorQuery();\r\n    query.select('.handCenter').boundingClientRect(rect => {\r\n      console.log(rect)\r\n      this.canvasWidth = rect.width;\r\n      this.canvasHeight = rect.height;\r\n    }).exec();\r\n    this.selectSlideValue(this.slideValue);\r\n  }\r\n\r\n  // 笔迹开始\r\n  uploadScaleStart(event) {\r\n\t\tconsole.log('start');\r\n\t\tlet e = event.mp\r\n    console.log(e.touches[0])\r\n    if (e.type != 'touchstart') return false;\r\n    this.ctx.setFillStyle(this.lineColor); // 初始线条设置颜色\r\n    this.ctx.setGlobalAlpha(this.transparent); // 设置半透明\r\n    this.currentPoint = {\r\n      x: e.touches[0].x,\r\n      y: e.touches[0].y\r\n    }\r\n    this.currentLine.unshift({\r\n      time: new Date().getTime(),\r\n      dis: 0,\r\n      x: this.currentPoint.x,\r\n      y: this.currentPoint.y\r\n    })\r\n    if (this.firstTouch) {\r\n      this.cutArea = {\r\n        top: this.currentPoint.y,\r\n        right: this.currentPoint.x,\r\n        bottom: this.currentPoint.y,\r\n        left: this.currentPoint.x\r\n      }\r\n      this.firstTouch = false\r\n    }\r\n    this.pointToLine(this.currentLine);\r\n  }\r\n  // 笔迹移动\r\n  uploadScaleMove(event) {\r\n\t\tconsole.log('move');\r\n\t\tlet e = event.mp\r\n    if (e.type != 'touchmove') return false;\r\n    if (e.cancelable) {\r\n      // 判断默认行为是否已经被禁用\r\n      if (!e.defaultPrevented) {\r\n        e.preventDefault();\r\n      }\r\n    }\r\n    let point = {\r\n      x: e.touches[0].x,\r\n      y: e.touches[0].y\r\n    }\r\n    //测试裁剪\r\n    if (point.y < this.cutArea.top) {\r\n      this.cutArea.top = point.y;\r\n    }\r\n    if (point.y < 0) this.cutArea.top = 0;\r\n\r\n    if (point.x > this.cutArea.right) {\r\n      this.cutArea.right = point.x;\r\n    }\r\n    if (this.canvasWidth - point.x <= 0) {\r\n      this.cutArea.right = this.canvasWidth;\r\n    }\r\n    if (point.y > this.cutArea.bottom) {\r\n      this.cutArea.bottom = point.y;\r\n    }\r\n    if (this.canvasHeight - point.y <= 0) {\r\n      this.cutArea.bottom = this.canvasHeight;\r\n    }\r\n    if (point.x < this.cutArea.left) {\r\n      this.cutArea.left = point.x;\r\n    }\r\n    if (point.x < 0) this.cutArea.left = 0;\r\n\r\n    this.lastPoint = this.currentPoint;\r\n    this.currentPoint = point\r\n    this.currentLine.unshift({\r\n      time: new Date().getTime(),\r\n      dis: this.distance(this.currentPoint, this.lastPoint, 'move'),\r\n      x: point.x,\r\n      y: point.y\r\n    })\r\n    this.pointToLine(this.currentLine);\r\n  }\r\n  // 笔迹结束\r\n  uploadScaleEnd(event) {\r\n\t\tlet e = event.mp\r\n    if (e.type != 'touchend') return 0;\r\n\t\tconsole.log(e);\r\n    let point = {\r\n      x: e.changedTouches[0].x,\r\n      y: e.changedTouches[0].y\r\n    }\r\n\t\t\r\n    this.lastPoint = this.currentPoint;\r\n    this.currentPoint = point\r\n    this.currentLine.unshift({\r\n      time: new Date().getTime(),\r\n      dis: this.distance(this.currentPoint, this.lastPoint, 'end'),\r\n      x: point.x,\r\n      y: point.y\r\n    })\r\n    if (this.currentLine.length > 2) {\r\n      var info = (this.currentLine[0].time - this.currentLine[this.currentLine.length - 1].time) / this.currentLine.length;\r\n      //$(\"#info\").text(info.toFixed(2));\r\n    }\r\n    //一笔结束，保存笔迹的坐标点，清空，当前笔迹\r\n    //增加判断是否在手写区域；\r\n    this.pointToLine(this.currentLine);\r\n    var currentChirography = {\r\n      lineSize: this.lineSize,\r\n      lineColor: this.lineColor\r\n    };\r\n    this.chirography.unshift(currentChirography);\r\n    this.linePrack.unshift(this.currentLine);\r\n    this.currentLine = []\r\n  }\r\n  retDraw() {\r\n    this.ctx.clearRect(0, 0, 700, 730)\r\n    this.ctx.draw()\r\n  }\r\n\r\n  //画两点之间的线条；参数为:line，会绘制最近的开始的两个点；\r\n  pointToLine(line) {\r\n    this.calcBethelLine(line);\r\n    // this.calcBethelLine1(line);\r\n    return;\r\n  }\r\n  //计算插值的方式；\r\n  calcBethelLine(line) {\r\n    if (line.length <= 1) {\r\n      line[0].r = this.radius;\r\n      return;\r\n    }\r\n    let x0, x1, x2, y0, y1, y2, r0, r1, r2, len, lastRadius, dis = 0,\r\n      time = 0,\r\n      curveValue = 0.5;\r\n    if (line.length <= 2) {\r\n      x0 = line[1].x\r\n      y0 = line[1].y\r\n      x2 = line[1].x + (line[0].x - line[1].x) * curveValue;\r\n      y2 = line[1].y + (line[0].y - line[1].y) * curveValue;\r\n      //x2 = line[1].x;\r\n      //y2 = line[1].y;\r\n      x1 = x0 + (x2 - x0) * curveValue;\r\n      y1 = y0 + (y2 - y0) * curveValue;;\r\n\r\n    } else {\r\n      x0 = line[2].x + (line[1].x - line[2].x) * curveValue;\r\n      y0 = line[2].y + (line[1].y - line[2].y) * curveValue;\r\n      x1 = line[1].x;\r\n      y1 = line[1].y;\r\n      x2 = x1 + (line[0].x - x1) * curveValue;\r\n      y2 = y1 + (line[0].y - y1) * curveValue;\r\n    }\r\n    //从计算公式看，三个点分别是(x0,y0),(x1,y1),(x2,y2) ；(x1,y1)这个是控制点，控制点不会落在曲线上；实际上，这个点还会手写获取的实际点，却落在曲线上\r\n    len = this.distance({\r\n      x: x2,\r\n      y: y2\r\n    }, {\r\n      x: x0,\r\n      y: y0\r\n    }, 'calc');\r\n    lastRadius = this.radius;\r\n    for (let n = 0; n < line.length - 1; n++) {\r\n      dis += line[n].dis;\r\n      time += line[n].time - line[n + 1].time;\r\n      if (dis > this.smoothness) break;\r\n    }\r\n    this.radius = Math.min(time / len * this.pressure + this.lineMin, this.lineMax) * this.lineSize\r\n    line[0].r = this.radius;\r\n    //计算笔迹半径；\r\n    if (line.length <= 2) {\r\n      r0 = (lastRadius + this.radius) / 2;\r\n      r1 = r0;\r\n      r2 = r1;\r\n      //return;\r\n    } else {\r\n      r0 = (line[2].r + line[1].r) / 2;\r\n      r1 = line[1].r;\r\n      r2 = (line[1].r + line[0].r) / 2;\r\n    }\r\n    let n = 5;\r\n    let point = [];\r\n    for (let i = 0; i < n; i++) {\r\n      let t = i / (n - 1);\r\n      let x = (1 - t) * (1 - t) * x0 + 2 * t * (1 - t) * x1 + t * t * x2;\r\n      let y = (1 - t) * (1 - t) * y0 + 2 * t * (1 - t) * y1 + t * t * y2;\r\n      let r = lastRadius + (this.radius - lastRadius) / n * i;\r\n      point.push({\r\n        x: x,\r\n        y: y,\r\n        r: r\r\n      });\r\n      if (point.length == 3) {\r\n        let a = this.ctaCalc(point[0].x, point[0].y, point[0].r, point[1].x, point[1].y, point[1].r, point[2].x, point[2].y, point[2].r);\r\n        a[0].color = this.lineColor;\r\n        this.bethelDraw(a, 1);\r\n        point = [{\r\n          x: x,\r\n          y: y,\r\n          r: r\r\n        }];\r\n      }\r\n    }\r\n  }\r\n  //求两点之间距离\r\n  distance(a, b, type) {\r\n    let x = b.x - a.x;\r\n    let y = b.y - a.y;\r\n    return Math.sqrt(x * x + y * y) * 5;\r\n  }\r\n  ctaCalc(x0, y0, r0, x1, y1, r1, x2, y2, r2) {\r\n    let a = [],\r\n      vx01, vy01, norm, n_x0, n_y0, vx21, vy21, n_x2, n_y2;\r\n    vx01 = x1 - x0;\r\n    vy01 = y1 - y0;\r\n    norm = Math.sqrt(vx01 * vx01 + vy01 * vy01 + 0.0001) * 2;\r\n    vx01 = vx01 / norm * r0;\r\n    vy01 = vy01 / norm * r0;\r\n    n_x0 = vy01;\r\n    n_y0 = -vx01;\r\n    vx21 = x1 - x2;\r\n    vy21 = y1 - y2;\r\n    norm = Math.sqrt(vx21 * vx21 + vy21 * vy21 + 0.0001) * 2;\r\n    vx21 = vx21 / norm * r2;\r\n    vy21 = vy21 / norm * r2;\r\n    n_x2 = -vy21;\r\n    n_y2 = vx21;\r\n    a.push({\r\n      mx: x0 + n_x0,\r\n      my: y0 + n_y0,\r\n      color: \"#1A1A1A\"\r\n    });\r\n    a.push({\r\n      c1x: x1 + n_x0,\r\n      c1y: y1 + n_y0,\r\n      c2x: x1 + n_x2,\r\n      c2y: y1 + n_y2,\r\n      ex: x2 + n_x2,\r\n      ey: y2 + n_y2\r\n    });\r\n    a.push({\r\n      c1x: x2 + n_x2 - vx21,\r\n      c1y: y2 + n_y2 - vy21,\r\n      c2x: x2 - n_x2 - vx21,\r\n      c2y: y2 - n_y2 - vy21,\r\n      ex: x2 - n_x2,\r\n      ey: y2 - n_y2\r\n    });\r\n    a.push({\r\n      c1x: x1 - n_x2,\r\n      c1y: y1 - n_y2,\r\n      c2x: x1 - n_x0,\r\n      c2y: y1 - n_y0,\r\n      ex: x0 - n_x0,\r\n      ey: y0 - n_y0\r\n    });\r\n    a.push({\r\n      c1x: x0 - n_x0 - vx01,\r\n      c1y: y0 - n_y0 - vy01,\r\n      c2x: x0 + n_x0 - vx01,\r\n      c2y: y0 + n_y0 - vy01,\r\n      ex: x0 + n_x0,\r\n      ey: y0 + n_y0\r\n    });\r\n    a[0].mx = a[0].mx.toFixed(1);\r\n    a[0].mx = parseFloat(a[0].mx);\r\n    a[0].my = a[0].my.toFixed(1);\r\n    a[0].my = parseFloat(a[0].my);\r\n    for (let i = 1; i < a.length; i++) {\r\n      a[i].c1x = a[i].c1x.toFixed(1);\r\n      a[i].c1x = parseFloat(a[i].c1x);\r\n      a[i].c1y = a[i].c1y.toFixed(1);\r\n      a[i].c1y = parseFloat(a[i].c1y);\r\n      a[i].c2x = a[i].c2x.toFixed(1);\r\n      a[i].c2x = parseFloat(a[i].c2x);\r\n      a[i].c2y = a[i].c2y.toFixed(1);\r\n      a[i].c2y = parseFloat(a[i].c2y);\r\n      a[i].ex = a[i].ex.toFixed(1);\r\n      a[i].ex = parseFloat(a[i].ex);\r\n      a[i].ey = a[i].ey.toFixed(1);\r\n      a[i].ey = parseFloat(a[i].ey);\r\n    }\r\n    return a;\r\n  }\r\n  bethelDraw(point, is_fill, color) {\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(point[0].mx, point[0].my);\r\n    if (undefined != color) {\r\n      this.ctx.setFillStyle(color);\r\n      this.ctx.setStrokeStyle(color);\r\n    } else {\r\n      this.ctx.setFillStyle(point[0].color);\r\n      this.ctx.setStrokeStyle(point[0].color);\r\n    }\r\n    for (let i = 1; i < point.length; i++) {\r\n      this.ctx.bezierCurveTo(point[i].c1x, point[i].c1y, point[i].c2x, point[i].c2y, point[i].ex, point[i].ey);\r\n    }\r\n    this.ctx.stroke();\r\n    if (undefined != is_fill) {\r\n      this.ctx.fill(); //填充图形 ( 后绘制的图形会覆盖前面的图形, 绘制时注意先后顺序 )\r\n    }\r\n    this.ctx.draw(true)\r\n  }\r\n\r\n  selectColorEvent(lineColor) {\r\n    this.lineColor = lineColor;\r\n  }\r\n\r\n  selectSlideValue(slideValue) {\r\n    switch (slideValue) {\r\n      case 0:\r\n        this.lineSize = 0.1;\r\n        this.lineMin = 0.1;\r\n        this.lineMax = 0.1;\r\n        break;\r\n      case 25:\r\n        this.lineSize = 1;\r\n        this.lineMin = 0.5;\r\n        this.lineMax = 2;\r\n        break;\r\n      case 50:\r\n        this.lineSize = 1.5;\r\n        this.lineMin = 1;\r\n        this.lineMax = 3;\r\n        break;\r\n      case 75:\r\n        this.lineSize = 1.5;\r\n        this.lineMin = 2;\r\n        this.lineMax = 3.5;\r\n        break;\r\n      case 100:\r\n        this.lineSize = 3;\r\n        this.lineMin = 2;\r\n        this.lineMax = 3.5;\r\n        break;\r\n    }\r\n  }\r\n\t\r\n\tsaveCanvas(){\r\n\t\t return new Promise((resolve,rej) => {\r\n\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\tcanvasId: this.canvasName,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log(res.tempFilePath)\r\n\t\t\t\t\tresolve(res.tempFilePath);\r\n\t\t\t\t},\r\n\t\t\t\t fail:function(err){\r\n\t\t\t\t\t console.log('图片生成失败：'+err)\r\n\t\t\t\t\t rej(err);\r\n\t\t\t\t }\r\n\t\t\t})\r\n\t\t})\t\r\n\t}\t\r\n}\r\n\r\nexport default Handwriting;\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/Admin/Documents/HBuilderProjects/signature/static/js/signature.js"],"sourceRoot":""}